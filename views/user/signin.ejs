<%-include("../../views/partials/user/header.ejs")%>

<style>
    .error-message{
        color: red;
        font-size: 1.15rem;
        display: none;
        height: 18px;   /* fixed height */
        white-space: nowrap;
    }
</style>

 <main class="main">
            <nav aria-label="breadcrumb" class="breadcrumb-nav border-0 mb-0">
                <div class="container">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                       	<li class="breadcrumb-item active" aria-current="page">Login</li>
                    </ol>
                </div><!-- End .container -->
            </nav><!-- End .breadcrumb-nav -->

            <div class="login-page bg-image pt-8 pb-8 pt-md-12 pb-md-12 pt-lg-17 pb-lg-17" style="background-image: url('assets/images/RARO login bg.jpg')">
            	<div class="container">
            		<div class="form-box">
            			<div class="form-tab">
	            			<ul class="nav nav-pills nav-fill" role="tablist">
							    <li class="nav-item">
							        <a class="nav-link" id="signin-tab-2" data-toggle="tab" href="#signin-2" role="tab" aria-controls="signin-2" aria-selected="false">Sign In</a>
							    </li>
							    <li class="nav-item">
							        <a class="nav-link active" id="register-tab-2" data-toggle="tab" href="#register-2" role="tab" aria-controls="register-2" aria-selected="true">Register</a>
							    </li>
							</ul>
							<div class="tab-content">
							    <div class="tab-pane fade" id="signin-2" role="tabpanel" aria-labelledby="signin-tab-2">
							    	<form action="#">
							    		<div class="form-group">
							    			<label for="singin-email-2">Username or email address *</label>
							    			<input type="text" class="form-control" id="singin-email-2" name="singin-email" required>
							    		</div><!-- End .form-group -->

							    		<div class="form-group">
							    			<label for="singin-password-2">Password *</label>
							    			<input type="password" class="form-control" id="singin-password-2" name="singin-password" required>
							    		</div><!-- End .form-group -->

							    		<div class="form-footer">
							    			<button type="submit" class="btn btn-outline-primary-2">
			                					<span>LOG IN</span>
			            						<i class="icon-long-arrow-right"></i>
			                				</button>

			                				<div class="custom-control custom-checkbox">
												<input type="checkbox" class="custom-control-input" id="signin-remember-2">
												<label class="custom-control-label" for="signin-remember-2">Remember Me</label>
											</div><!-- End .custom-checkbox -->

											<a href="#" class="forgot-link">Forgot Your Password?</a>
							    		</div><!-- End .form-footer -->
							    	</form>
							    	<div class="form-choice">
								    	<p class="text-center">or sign in with</p>
								    	<div class="row">
								    		<div class="col-sm-6">
								    			<a href="#" class="btn btn-login btn-g">
								    				<i class="icon-google"></i>
								    				Login With Google
								    			</a>
								    		</div><!-- End .col-6 -->
								    		<div class="col-sm-6">
								    			<a href="#" class="btn btn-login btn-f">
								    				<i class="icon-facebook-f"></i>
								    				Login With Facebook
								    			</a>
								    		</div><!-- End .col-6 -->
								    	</div><!-- End .row -->
							    	</div><!-- End .form-choice -->
							    </div><!-- .End .tab-pane -->
							    <div class="tab-pane fade show active" id="register-2" role="tabpanel" aria-labelledby="register-tab-2">
							    	<form id="register-form" method="post" action="/register">
							    		<div class="form-group">
                                            <label for="register-name">Name *</label>
							    			<input type="text" class="form-control" id="register-name" name="name" required>
                                            <div id="error1" class="error-message"></div>
							    		</div><!-- End .form-group -->

							    		<div class="form-group">
							    			<label for="register-email">Email address *</label>
							    			<input type="email" class="form-control" id="register-email" name="email" required>
											<div id="error2" class="error-message"></div>
							    		</div><!-- End .form-group -->

                                        <div class="form-group">
							    			<label for="register-password">Password *</label>
							    			<input type="password" class="form-control" id="register-password" name="password" required>
											<div id="error3" class="error-message"></div>
							    		</div><!-- End .form-group -->

                                        <div class="form-group">
							    			<label for="confirm-password">Confirm Password *</label>
							    			<input type="password" class="form-control" id="confirm-password" name="confirmpassword" required>
											<div id="error4" class="error-message"></div>
							    		</div><!-- End .form-group -->

							    		<div class="form-footer">
							    			<button type="submit" class="btn btn-outline-primary-2">
			                					<span>SIGN UP</span>
			            						<i class="icon-long-arrow-right"></i>
			                				</button>

			                				<div class="custom-control custom-checkbox">
												<input type="checkbox" class="custom-control-input" id="register-policy-2" required>
												<label class="custom-control-label" for="register-policy-2">I agree to the <a href="#">privacy policy</a> *</label>
											</div><!-- End .custom-checkbox -->
							    		</div><!-- End .form-footer -->
							    	</form>
							    	<div class="form-choice">
								    	<p class="text-center">or sign in with</p>
								    	<div class="row">
								    		<div class="col-sm-6">
								    			<a href="#" class="btn btn-login btn-g">
								    				<i class="icon-google"></i>
								    				Login With Google
								    			</a>
								    		</div><!-- End .col-6 -->
								    		<div class="col-sm-6">
								    			<a href="#" class="btn btn-login  btn-f">
								    				<i class="icon-facebook-f"></i>
								    				Login With Facebook
								    			</a>
								    		</div><!-- End .col-6 -->
								    	</div><!-- End .row -->
							    	</div><!-- End .form-choice -->
							    </div><!-- .End .tab-pane -->
							</div><!-- End .tab-content -->
						</div><!-- End .form-tab -->
            		</div><!-- End .form-box -->
            	</div><!-- End .container -->
            </div><!-- End .login-page section-bg -->
        </main><!-- End .main -->


<%-include("../../views/partials/user/footer.ejs")%>

    <button id="scroll-top" title="Back to Top"><i class="icon-arrow-up"></i></button>

<%-include("../../views/partials/user/mobileView.ejs")%>

    <!-- Plugins JS File -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/jquery.hoverIntent.min.js"></script>
    <script src="assets/js/jquery.waypoints.min.js"></script>
    <script src="assets/js/superfish.min.js"></script>
    <script src="assets/js/owl.carousel.min.js"></script>
    <!-- Main JS File -->
    <script src="assets/js/main.js"></script>


<script>
    const nameid = document.getElementById("register-name");
    const emailid = document.getElementById("register-email");
    const passid = document.getElementById("register-password");
    const cpassid = document.getElementById("confirm-password");
    const error1 = document.getElementById("error1");
    const error2 = document.getElementById("error2");
    const error3 = document.getElementById("error3");
    const error4 = document.getElementById("error4");
    const registerForm = document.getElementById("register-form");  
    
function nameValidateChecking(){
    const nameval = nameid.value;
    const namePattern = /^[A-Za-z\s]+$/;        
    
    if(nameval.trim()===""){
        error1.style.display = "block";
        error1.innerHTML = "Please enter a valid name"
    }else if(!namePattern.test(nameval)){
        error1.style.display = "block";
        error1.innerHTML = "Name can only contain alphabets and spaces"
    }else{
        error1.style.display = "none";
        error1.innerHTML = "";
    }
}

function  emailValidateChecking(){
    const emailval = emailid.value;
    const emailPattern = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;

    if(!emailPattern.test(emailval)){
        error2.style.display = "block";
        error2.innerHTML = "Invalid format";
    }else{
        error2.style.display = "none";
        error2.innerHTML = "";
    }

}

function  passValidateChecking(){
    const passval = passid.value;
    const cpassval = cpassid.value;
    const passPattern = /^[A-Za-z0-9@]+$/;

  if(passval.length<6){
        error3.style.display = "block";
        error3.innerHTML = "Should contain atleast 6 characters";
    }else if(!passPattern.test(passval)){
        error3.style.display = "block";
        error3.innerHTML = "Should contain numbers and alphabets";
    }else{
        error3.style.display = "none";
        error3.innerHTML = "";
    }

    if(passval!==cpassval){
        error4.style.display = "block";
        error4.innerHTML = "Passwords do not match";
    }else{
        error4.style.display = "none";
        error4.innerHTML = "";
    }

}


document.addEventListener("DOMContentLoaded",()=>{
    registerForm.addEventListener("submit",(e)=>{
        nameValidateChecking();
        emailValidateChecking();
        passValidateChecking();
        
        if(
            !nameid || !emailid || !passid || !cpassid || !error1 || !error2 || !error3 || !error4 || registerForm
        ){
            console.error("one more elements not found");
            
        }

        if(
            error1.innerHTML||
            error2.innerHTML||
            error3.innerHTML||
            error4.innerHTML
        ){
            e.preventDefault();
        }
    })
})    

</script>